<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="大一,C语言,Coursework," />





  <link rel="alternate" href="/atom.xml" title="Xueying's Blog" type="application/atom+xml" />






<meta name="description" content="Hi, 这篇文章是关于大一年级下学期C语言最后的大作业，年代久远，仅供参考哦~ 题目：Coursework 2016 DeadLine June 27thWrite a program that will help elementary school pupils practice math.a)      The program will first ask the user for his/h">
<meta name="keywords" content="大一,C语言,Coursework">
<meta property="og:type" content="article">
<meta property="og:title" content="大一下 C语言大作业">
<meta property="og:url" content="http://Santanico.github.io/2018/02/06/大一下C语言大作业/index.html">
<meta property="og:site_name" content="Xueying&#39;s Blog">
<meta property="og:description" content="Hi, 这篇文章是关于大一年级下学期C语言最后的大作业，年代久远，仅供参考哦~ 题目：Coursework 2016 DeadLine June 27thWrite a program that will help elementary school pupils practice math.a)      The program will first ask the user for his/h">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-02-05T17:15:41.343Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大一下 C语言大作业">
<meta name="twitter:description" content="Hi, 这篇文章是关于大一年级下学期C语言最后的大作业，年代久远，仅供参考哦~ 题目：Coursework 2016 DeadLine June 27thWrite a program that will help elementary school pupils practice math.a)      The program will first ask the user for his/h">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://Santanico.github.io/2018/02/06/大一下C语言大作业/"/>





  <title>大一下 C语言大作业 | Xueying's Blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8ca39f6cabdc1d34d0e7225fdbd4540c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xueying's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://Santanico.github.io/2018/02/06/大一下C语言大作业/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Santanico">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xueying's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">大一下 C语言大作业</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-06T01:02:58+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Coding/" itemprop="url" rel="index">
                    <span itemprop="name">Coding</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/06/大一下C语言大作业/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/02/06/大一下C语言大作业/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/02/06/大一下C语言大作业/" class="leancloud_visitors" data-flag-title="大一下 C语言大作业">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1,683
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Hi, 这篇文章是关于大一年级下学期C语言最后的大作业，年代久远，仅供参考哦~</p>
<h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><h3 id="Coursework-2016-DeadLine-June-27th"><a href="#Coursework-2016-DeadLine-June-27th" class="headerlink" title="Coursework 2016 DeadLine June 27th"></a>Coursework 2016 DeadLine June 27th</h3><p>Write a program that will help elementary school pupils practice math.<br>a)      The program will first ask the user for his/her ID number (including two letters &amp; 4 digits), e.g.<br>Please input your four digit ID no: AB1234<br>       The program should have input validation.<br>Then the program prompts three choices:<br>(1)   Start a test<br>(2)   Check scores<br>(3)   Exit</p>
<p>Test: the program will give 10 math problems, e.g.:</p>
<p>12 *  3 = 36<br>48 + 32 = 80<br>…<br>56 / 28 = 2<br> <a id="more"></a><br>Note:<br>i) Pupils will answer each problem before the next one is given.</p>
<p>ii) The problems should include addition, subtraction, multiplication and division. They are randomly generated.</p>
<p>iii) Randomly generates numbers for problems. However, must ensure that both the problem and the result are no larger than two digits. The problem and the result should be greater than or equal to zero. The divisor cannot be zero.</p>
<p>iv) After ten problems are finished, record the time used by the student to do the ten problems.</p>
<p>v) Gives a score to each student. Saves this student’s ID, his/her score and the time used into a file named ‘record.txt’.</p>
<p>vi) Print the following information on the screen:<br>Prob. | Correct Answ.  |  Ur Answ</p>
<p>c)      Check scores: Searches the file ‘record.txt’ and lists all the historical scores for this student, e.g.:</p>
<p>Your previous records are:<br>AB1234  80  150 seconds<br>AB1234  50  182 seconds<br>AB1234  90  98 seconds</p>
<p>You will be marked based on your program’s:<br>(1)    Correctiveness<br>(2)    Readability<br>(3)    Robustness<br>(4)    Conciseness</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><p>注意当年我在大作业里用了goto，但后来我得知goto会影响健壮性，会扣分的，所以建议不要用。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> main()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span> ID[<span class="number">7</span>],option[<span class="number">2</span>],symbol[<span class="number">10</span>],convert[<span class="number">3</span>],answer[<span class="number">10</span>][<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">int</span> n,i,a[<span class="number">10</span>],b[<span class="number">10</span>],result[<span class="number">10</span>],score=<span class="number">0</span>,grade,timeduation;</span><br><span class="line">	<span class="keyword">time_t</span> start, end;</span><br><span class="line">	FILE *data;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span>[])</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line">	    <span class="built_in">printf</span>(<span class="string">"Please input your four digit ID (e.g.AB1234): "</span>);</span><br><span class="line"> 	    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,ID);</span><br><span class="line">    &#125;<span class="keyword">while</span>(!(ID[<span class="number">6</span>]==<span class="string">'\0'</span>&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">0</span>])&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">1</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">2</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">3</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">4</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">5</span>])));<span class="comment">//to inspect whether the user type in the correct ID</span></span><br><span class="line">	</span><br><span class="line">	choice:<span class="comment">//use goto function to return as a loop</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\nPlease type in the corresponding number to continue.\n(1)   Start a test\n(2)   Check scores\n(3)   Exit\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>,option);</span><br><span class="line">	<span class="keyword">if</span>(option[<span class="number">1</span>]!=<span class="string">'\0'</span>||<span class="built_in">isdigit</span>(option[<span class="number">0</span>])==<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Wrong Input!"</span>);</span><br><span class="line">		<span class="keyword">goto</span> choice;</span><br><span class="line">	&#125;<span class="comment">//to inspect whether user type in the correct number</span></span><br><span class="line">    <span class="keyword">switch</span>(option[<span class="number">0</span>])<span class="comment">//use ASCII to get the correspoding funtion</span></span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="keyword">case</span> <span class="number">49</span>:getchar();</span><br><span class="line">    	        <span class="built_in">printf</span>(<span class="string">"---------------------------------------\n"</span>); <span class="comment">//start a test</span></span><br><span class="line">		        srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    	        time(&amp;start);</span><br><span class="line">    	        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    	        &#123;</span><br><span class="line">				    n=rand()%<span class="number">4</span>;</span><br><span class="line">    	       	    <span class="keyword">do</span>&#123;</span><br><span class="line">    	       	    	a[i]=rand()%<span class="number">100</span>;</span><br><span class="line">	       	    	    b[i]=rand()%<span class="number">100</span>;</span><br><span class="line">	       	    	<span class="keyword">switch</span>(n)&#123;</span><br><span class="line">				     	<span class="keyword">case</span> <span class="number">0</span>:symbol[i] = <span class="string">'+'</span>;</span><br><span class="line">						       result[i] = a[i] + b[i];</span><br><span class="line">						       <span class="keyword">break</span>;</span><br><span class="line">					    <span class="keyword">case</span> <span class="number">1</span>:symbol[i] = <span class="string">'-'</span>;</span><br><span class="line">						       result[i] = a[i] - b[i];</span><br><span class="line">						       <span class="keyword">break</span>;</span><br><span class="line">				    	<span class="keyword">case</span> <span class="number">2</span>:symbol[i] = <span class="string">'*'</span>;</span><br><span class="line">						       result[i] = a[i] * b[i];</span><br><span class="line">				 		       <span class="keyword">break</span>;</span><br><span class="line">				    	<span class="keyword">case</span> <span class="number">3</span>:symbol[i] = <span class="string">'/'</span>;</span><br><span class="line">						       result[i] = a[i] / b[i];</span><br><span class="line">	       	    	&#125;</span><br><span class="line">				   &#125;<span class="keyword">while</span>(result[i] &gt; <span class="number">99</span> || result[i] &lt; <span class="number">0</span> || n==<span class="number">3</span> &amp;&amp; a[i] % b[i] != <span class="number">0</span>);</span><br><span class="line">				   <span class="built_in">printf</span>(<span class="string">"%2d %c %2d = "</span>, a[i], symbol[i], b[i]);</span><br><span class="line">			   	   itoa(result[i], convert, <span class="number">10</span>);</span><br><span class="line">				   gets(answer[i]);</span><br><span class="line">				   <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(convert, answer[i])) &#123;</span><br><span class="line">				   score += <span class="number">10</span>;</span><br><span class="line">                   &#125;</span><br><span class="line">                &#125;</span><br><span class="line">			    time(&amp;end);</span><br><span class="line">			    <span class="built_in">printf</span>(<span class="string">"---------------------------------------\nBravo! You have got %d score(s) in %ld seconds!\n"</span>,score,end-start); </span><br><span class="line">		        <span class="built_in">printf</span>(<span class="string">"Prob.             | Correct Answ.  |  Ur Answ\n"</span>); </span><br><span class="line">       		    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">       		    <span class="built_in">printf</span>(<span class="string">"(%-2d)  %-2d %c %-2d =          %-3d          %s\n"</span>,i+<span class="number">1</span>,a[i],symbol[i],b[i],result[i],answer[i]);</span><br><span class="line">       		    data = fopen(<span class="string">"record.txt"</span>, <span class="string">"a+"</span>); <span class="comment">//save the information into a file</span></span><br><span class="line">		        <span class="built_in">fprintf</span>(data,<span class="string">"%s %d %d\n"</span>,ID,score,end-start); </span><br><span class="line">		        fclose(data);</span><br><span class="line">		        <span class="keyword">goto</span> choice;<span class="comment">//return to the option menu</span></span><br><span class="line">		        <span class="keyword">break</span>; </span><br><span class="line">   	    <span class="keyword">case</span> <span class="number">50</span>:check(ID);</span><br><span class="line">  	            <span class="keyword">goto</span> choice;<span class="comment">//return to the option menu</span></span><br><span class="line">	    	    <span class="keyword">break</span>;</span><br><span class="line">    	<span class="keyword">case</span> <span class="number">51</span>:<span class="built_in">printf</span>(<span class="string">"Thanks for testing! This program is about to quit.\n"</span>);<span class="comment">//quit the program</span></span><br><span class="line">			    <span class="keyword">break</span>; </span><br><span class="line">    	<span class="keyword">default</span>:<span class="built_in">printf</span>(<span class="string">"Wrong Input! "</span>);</span><br><span class="line">    	        <span class="keyword">goto</span> choice;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span> ID[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE *file;</span><br><span class="line">    <span class="keyword">int</span> getgrade,gettime,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> getid[<span class="number">6</span>];</span><br><span class="line">    </span><br><span class="line">    file=fopen(<span class="string">"record.txt"</span>,<span class="string">"r"</span>); </span><br><span class="line">    <span class="keyword">if</span>(file==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"You have never done the test before, so there is no record."</span>); </span><br><span class="line">    <span class="built_in">fscanf</span>(file,<span class="string">"%s %d %d"</span>,getid,&amp;getgrade,&amp;gettime);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Your previous records are:\n"</span>);<span class="comment">//print the previous grades</span></span><br><span class="line">    <span class="keyword">while</span>(!feof(file))</span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="keyword">if</span>(<span class="built_in">strncmp</span>(ID,getid,<span class="number">6</span>)==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	<span class="built_in">printf</span>(<span class="string">"%s %d %d \n\n"</span>,ID,getgrade,gettime);</span><br><span class="line">	        j=<span class="number">1</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">fscanf</span>(file,<span class="string">"%s %d %d"</span>,getid,&amp;getgrade,&amp;gettime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==<span class="number">0</span>)  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Sorry, there is no previou grade.\n"</span>);</span><br><span class="line">    fclose(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>后来又随便帮别人写了一份差不多的，也放上来吧<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt; </span></span></span><br><span class="line"><span class="comment">//This is a program that will help elementary school pupils practice math. </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> fid[<span class="number">10</span>],ID[<span class="number">10</span>],symbol[<span class="number">10</span>],convert[<span class="number">3</span>],answer[<span class="number">10</span>][<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">int</span> j=<span class="number">0</span>,i,op,n,a[<span class="number">10</span>],b[<span class="number">10</span>],result[<span class="number">10</span>],score=<span class="number">0</span>,grade,timeduation;</span><br><span class="line">	FILE *data;</span><br><span class="line">	<span class="keyword">time_t</span> tstart, tend;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line">	    <span class="built_in">printf</span>(<span class="string">"Please input your four digit ID number such as AB1234: "</span>);</span><br><span class="line"> 	    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,ID);</span><br><span class="line"> 	    <span class="keyword">if</span>(!(ID[<span class="number">6</span>]==<span class="string">'\0'</span>&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">0</span>])&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">1</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">2</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">3</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">4</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">5</span>]))) </span><br><span class="line"> 	    <span class="built_in">printf</span>(<span class="string">"Sorry, invalid ID. "</span>);</span><br><span class="line">       &#125;<span class="keyword">while</span>(!(ID[<span class="number">6</span>]==<span class="string">'\0'</span>&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">0</span>])&amp;&amp;<span class="built_in">isalpha</span>(ID[<span class="number">1</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">2</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">3</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">4</span>])&amp;&amp;<span class="built_in">isdigit</span>(ID[<span class="number">5</span>])));<span class="comment">//To check the ID invalidation</span></span><br><span class="line"></span><br><span class="line">	choose:</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\nPlease type in the number to continue.\n(1)   Start a test\n(2)   Check scores\n(3)   Exit\n"</span>); </span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;op); </span><br><span class="line">    <span class="keyword">switch</span>(op)<span class="comment">//let user to choose what function they want</span></span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		       getchar();</span><br><span class="line">    	       <span class="built_in">printf</span>(<span class="string">"\n"</span>); </span><br><span class="line">		       srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    	       time(&amp;tstart);</span><br><span class="line">    	       <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)<span class="comment">//to start the test</span></span><br><span class="line">    	       &#123;</span><br><span class="line">				   n=rand()%<span class="number">4</span>;</span><br><span class="line">    	       	   <span class="keyword">do</span>&#123;</span><br><span class="line">	       	    	a[i]=rand()%<span class="number">100</span>;</span><br><span class="line">	       	    	b[i]=rand()%<span class="number">100</span>;</span><br><span class="line">	       	    	<span class="keyword">switch</span>(n)&#123;</span><br><span class="line">				     	<span class="keyword">case</span> <span class="number">0</span>:symbol[i] = <span class="string">'+'</span>;</span><br><span class="line">						       result[i] = a[i] + b[i];</span><br><span class="line">						       <span class="keyword">break</span>;</span><br><span class="line">					    <span class="keyword">case</span> <span class="number">1</span>:symbol[i] = <span class="string">'-'</span>;</span><br><span class="line">						       result[i] = a[i] - b[i];</span><br><span class="line">						       <span class="keyword">break</span>;</span><br><span class="line">				    	<span class="keyword">case</span> <span class="number">2</span>:symbol[i] = <span class="string">'*'</span>;</span><br><span class="line">						       result[i] = a[i] * b[i];</span><br><span class="line">				 		       <span class="keyword">break</span>;</span><br><span class="line">				    	<span class="keyword">case</span> <span class="number">3</span>:symbol[i] = <span class="string">'/'</span>;</span><br><span class="line">						       result[i] = a[i] / b[i];</span><br><span class="line">	       	    	&#125;</span><br><span class="line">				   &#125;<span class="keyword">while</span>(result[i] &gt; <span class="number">99</span> || result[i] &lt; <span class="number">0</span> || n==<span class="number">3</span> &amp;&amp; a[i] % b[i] != <span class="number">0</span>);</span><br><span class="line">				   <span class="built_in">printf</span>(<span class="string">"%2d %c %2d = "</span>, a[i], symbol[i], b[i]);</span><br><span class="line">			   	   itoa(result[i], convert, <span class="number">10</span>);</span><br><span class="line">				   gets(answer[i]);<span class="comment">//gather the user's answers</span></span><br><span class="line">				   <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(convert, answer[i])) &#123;</span><br><span class="line">				   score += <span class="number">10</span>;</span><br><span class="line">                   &#125;</span><br><span class="line">      	       &#125;</span><br><span class="line">			   time(&amp;tend);<span class="comment">//time ends</span></span><br><span class="line">			   <span class="built_in">printf</span>(<span class="string">"\nYou have got %d score(s) in %ld seconds!\n"</span>,score,tend-tstart); </span><br><span class="line">		       <span class="built_in">printf</span>(<span class="string">"Prob.             | Correct Answ.  |  Ur Answ\n"</span>); <span class="comment">//print the test information</span></span><br><span class="line">       		   <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">       		   &#123;</span><br><span class="line">       		   	<span class="built_in">printf</span>(<span class="string">"(%2d)  %2d %c %2d =          %3d          %s\n"</span>,i+<span class="number">1</span>,a[i],symbol[i],b[i],result[i],answer[i]);</span><br><span class="line">       		   &#125; </span><br><span class="line">       		   data = fopen(<span class="string">"record.txt"</span>, <span class="string">"a+"</span>); </span><br><span class="line">		       <span class="built_in">fprintf</span>(data,<span class="string">"%s %3d %3ld\n"</span>,ID,score,tend-tstart); </span><br><span class="line">		       fclose(data);</span><br><span class="line">		       <span class="keyword">goto</span> choose;</span><br><span class="line">		       <span class="keyword">break</span>; </span><br><span class="line">   	    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">               data=fopen(<span class="string">"record.txt"</span>,<span class="string">"r"</span>);</span><br><span class="line">               <span class="keyword">if</span>(data==<span class="literal">NULL</span>)</span><br><span class="line">               &#123;</span><br><span class="line">               	<span class="built_in">printf</span>(<span class="string">"You have never done the test before."</span>);</span><br><span class="line">               	<span class="keyword">goto</span> choose;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="built_in">fscanf</span>(data,<span class="string">"%s %d %d"</span>,fid,&amp;grade,&amp;timeduation);<span class="comment">//scan the user's information</span></span><br><span class="line">               <span class="built_in">printf</span>(<span class="string">"Your previous records are:\n"</span>);</span><br><span class="line">               <span class="keyword">while</span>(!feof(data))</span><br><span class="line">               &#123;</span><br><span class="line">               	  <span class="keyword">if</span>(<span class="built_in">strncmp</span>(ID,fid,<span class="number">6</span>)==<span class="number">0</span>)<span class="comment">//check the user's name</span></span><br><span class="line">                  &#123;</span><br><span class="line">        	       <span class="built_in">printf</span>(<span class="string">"%s %d %d \n\n"</span>,fid,grade,timeduation);</span><br><span class="line">	               j=<span class="number">1</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="built_in">fscanf</span>(data,<span class="string">"%s %d %d"</span>,fid,&amp;grade,&amp;timeduation);</span><br><span class="line">               &#125;    </span><br><span class="line">               <span class="keyword">if</span>(j==<span class="number">0</span>)  </span><br><span class="line">               &#123;</span><br><span class="line">			   <span class="built_in">printf</span>(<span class="string">"Sorry, there is no previous record.\n"</span>);</span><br><span class="line">               &#125;</span><br><span class="line">               fclose(data);</span><br><span class="line">			   <span class="keyword">goto</span> choose; </span><br><span class="line">	    	   <span class="keyword">break</span>;   	</span><br><span class="line">    	<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">		       <span class="built_in">printf</span>(<span class="string">"It's about to quit! \n"</span>); </span><br><span class="line">			   <span class="keyword">break</span>; <span class="comment">//quit</span></span><br><span class="line">    	<span class="keyword">default</span>:</span><br><span class="line">		        <span class="built_in">printf</span>(<span class="string">"Wrong Number! "</span>);</span><br><span class="line">    	        <span class="keyword">goto</span> choose;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="附录：我们那年的注意事项"><a href="#附录：我们那年的注意事项" class="headerlink" title="附录：我们那年的注意事项"></a>附录：我们那年的注意事项</h2><p>截止日期是6月27日，迟交每日扣10%，最多扣至50%。至期末考试关闭提交系统</p>
<p>源代码为CPP文件,且已通过TC3编译,没有任何编译错误<br>源文件以完整学号作为文件名，CPP作为扩展名，不得压缩<br>将原文件作为附件以bupt.edu.cn邮箱发送至cw@wss.buptsem.net。邮件主题为完整学号<br>提交后自行到课程网站确认提交结果<br>文件名和邮件主题，不能是全角数字<br>不要重复提交，每重复提交一次，扣减10%</p>

      
    </div>
    
    
    



    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Santanico
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="http://Santanico.github.io/2018/02/06/大一下C语言大作业/" title="大一下 C语言大作业">http://Santanico.github.io/2018/02/06/大一下C语言大作业/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/大一/" rel="tag"># 大一</a>
          
            <a href="/tags/C语言/" rel="tag"># C语言</a>
          
            <a href="/tags/Coursework/" rel="tag"># Coursework</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/02/05/大一下C语言作业合集/" rel="next" title="大一下 C语言作业合集(EX01-EX11)">
                <i class="fa fa-chevron-left"></i> 大一下 C语言作业合集(EX01-EX11)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/02/06/大二下 数据结构（一）/" rel="prev" title="大二下 数据结构（一）">
                大二下 数据结构（一） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="Santanico" />
            
              <p class="site-author-name" itemprop="name">Santanico</p>
              <p class="site-description motion-element" itemprop="description">This is my space oddity ; )</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/u/1876394075" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-globe"></i>Weibo</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Santanico" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:930008674@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/hahxuey" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/u/1876394075" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://questionyu.com/" title="Question Yu's Blog" target="_blank">Question Yu's Blog</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.easybib.com/v2/home" title="EasyBib" target="_blank">EasyBib</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://tutorials.jenkov.com/" title="Jenkov Tutorials" target="_blank">Jenkov Tutorials</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#题目："><span class="nav-number">1.</span> <span class="nav-text">题目：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Coursework-2016-DeadLine-June-27th"><span class="nav-number">1.1.</span> <span class="nav-text">Coursework 2016 DeadLine June 27th</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码："><span class="nav-number">2.</span> <span class="nav-text">代码：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#附录：我们那年的注意事项"><span class="nav-number">3.</span> <span class="nav-text">附录：我们那年的注意事项</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Santanico</span>

  
</div>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  Visitors: <span id="busuanzi_value_site_pv"></span>
</span>
</div>

  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>








<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count"> |  Word Count: 26.8k words</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: false,
        appId: 'IRN3VNw9uj0AvsjUzaUKdMUU-gzGzoHsz',
        appKey: 'MkXzEt3Ov20Cwdj91Ami5ghe',
        placeholder: 'Just leave anything you like :)',
        avatar:'retro',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("k29LLcPEKEGxMWVDDJtKArkJ-gzGzoHsz", "K0RuaLfKm3AmLfBmGNItrQGI");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
  </body>
</html>
